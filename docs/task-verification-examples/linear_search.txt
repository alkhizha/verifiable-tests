; i := 0
; do i != n ^ b[i] != x -> i := i + 1 od

; Q => wp(I, P)
(IMPLIES
  (AND (<= 0 n) (EQ b B))
  (AND
    (EQ b B)
    (<= 0 0)
    (<= 0 n)
    (FORALL (k)
      (IMPLIES
        (AND (<= 0 k) (< k 0))
        (NEQ (select B k) x)
      )
    )
  )
)

; P ^ B => wp(S,P)
(IMPLIES
  (AND
    (NEQ i n)
    (NEQ (select b i) x)
    (EQ b B)
    (<= 0 i)
    (<= i n)
    (FORALL (k)
      (IMPLIES
        (AND (<= 0 k) (< k i))
        (NEQ (select B k) x)
      )
    )
  )
  (AND
    (EQ b B)
    (<= 0 (+ i 1))
    (<= (+ i 1) n)
    (FORALL (k)
      (IMPLIES
        (AND (<= 0 k) (< k (+ i 1)))
        (NEQ (select B k) x)
      )
    )
  )
)

; P ^ ~B => R
(IMPLIES
  (AND
    (NOT
      (AND
        (NEQ i n)
        (NEQ (select b i) x)
      )
    )
    (EQ b B)
    (<= 0 i)
    (<= i n)
    (FORALL (k)
      (IMPLIES
        (AND (<= 0 k) (< k i))
        (NEQ (select B k) x)
      )
    )
  )
  (OR
    (AND
      (<= 0 i)
      (< i n)
      (EQ (select B i) x)
    )
    (AND
      (EQ i n)
      (FORALL (k)
        (IMPLIES
          (AND (<= 0 k) (< k n))
          (NEQ (select B k) x)
        )
      )
    )
  )
)

; P ^ B => t > 0
(IMPLIES
  (AND
    (NEQ i n)
    (NEQ (select b i) x)
    (EQ b B)
    (<= 0 i)
    (<= i n)
    (FORALL (k)
      (IMPLIES
        (AND (<= 0 k) (< k i))
        (NEQ (select B k) x)
      )
    )
  )
  (< 0 (- n i))
)

; P ^ B => wp("t0 := t; S", t < t0)
(IMPLIES
  (AND
    (NEQ i n)
    (NEQ (select b i) x)
    (EQ b B)
    (<= 0 i)
    (<= i n)
    (FORALL (k)
      (IMPLIES
        (AND (<= 0 k) (< k i))
        (NEQ (select B k) x)
      )
    )
  )
  (< (- n (+ i 1)) (- n i))
)
